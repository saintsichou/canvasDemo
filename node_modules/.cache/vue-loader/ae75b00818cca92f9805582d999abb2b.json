{"remainingRequest":"/Users/liqiang/Desktop/demos/canvas/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liqiang/Desktop/demos/canvas/src/views/Paints.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liqiang/Desktop/demos/canvas/src/views/Paints.vue","mtime":1583292507961},{"path":"/Users/liqiang/Desktop/demos/canvas/node_modules/cache-loader/dist/cjs.js","mtime":1581399666072},{"path":"/Users/liqiang/Desktop/demos/canvas/node_modules/babel-loader/lib/index.js","mtime":1581399666066},{"path":"/Users/liqiang/Desktop/demos/canvas/node_modules/cache-loader/dist/cjs.js","mtime":1581399666072},{"path":"/Users/liqiang/Desktop/demos/canvas/node_modules/vue-loader/lib/index.js","mtime":1583030647440}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCl7CiAgICByZXR1cm4gewoKICAgIH0KICB9LAogIG1vdW50ZWQoKXsKICAgIHRoaXMuZHJhdygpCiAgfSwKICBtZXRob2RzOnsKICAgIGRyYXcoKXsKICAgICAgbGV0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkcmF3JykKICAgICAgbGV0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpCiAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsZnVuY3Rpb24oZSl7CiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICBsZXQgX3ggPSBlLnRvdWNoZXNbMF0ucGFnZVgKICAgICAgICAgIGNvbnNvbGUubG9nKF94KQogICAgICAgICAgbGV0IF95ID0gZS50b3VjaGVzWzBdLnBhZ2VZCiAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7CiAgICAgICAgICBjdHgubW92ZVRvKF94IC0gY2FudmFzLm9mZnNldExlZnQsX3kgLSBjYW52YXMub2Zmc2V0VG9wKTsKICAgICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJyxmdW5jdGlvbihlKXsKICAgICAgICAgICAgbGV0IHggPSBlLnRvdWNoZXNbMF0ucGFnZVgKICAgICAgICAgICAgbGV0IHkgPSBlLnRvdWNoZXNbMF0ucGFnZVkKICAgICAgICAgICAgY3R4LmxpbmVUbyh4LWNhbnZhcy5vZmZzZXRMZWZ0LHktY2FudmFzLm9mZnNldFRvcCksCiAgICAgICAgICAgIGN0eC5zdHJva2UoKTsKICAgICAgICAgIH0pLAogICAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsZnVuY3Rpb24oZSl7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGN0eCkKICAgICAgICAgICAgY3R4LmNsb3NlUGF0aCgpOwogICAgICAgICAgfSkKICAgICAgIH0pCiAgICB9LAogICAgY2xlYXIoKXsKICAgICAgbGV0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkcmF3JykKICAgICAgbGV0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpCiAgICAgIGN0eC5jbGVhclJlY3QoMCwwLGNhbnZhcy53aWR0aCxjYW52YXMuaGVpZ2h0KQogICAgfSwKICAgIGV4cG9ydFBuZygpewogICAgICBsZXQgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RyYXcnKQogICAgICBsZXQgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJykKICAgICAgbGV0IG9pbWcgPSBuZXcgSW1hZ2UoKQogICAgICBjdHguZHJhd0ltYWdlKG9pbWcsMCwwKQogICAgICBvaW1nLnNyYyA9IGNhbnZhcy50b0RhdGFVUkwoJ2ltYWdlL3BuZycpOwogICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG9pbWcpCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["Paints.vue"],"names":[],"mappings":";;;;;;;;;;;;;;AAcA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Paints.vue","sourceRoot":"src/views","sourcesContent":["<!--\n * @Date: 2020-03-03 19:50:36\n * @LastEditors  : Lee\n * @LastEditTime : 2020-03-04 11:28:27\n -->\n<template>\n  <div>\n    <canvas id=\"draw\" width=\"550\" height=\"350\" @click=\"draw\"></canvas>\n    <button @click='clear'>清除画布</button>\n    <button @click='exportPng'>导出画布</button>\n  </div>\n</template>\n\n<script>\n  export default {\n    data(){\n      return {\n\n      }\n    },\n    mounted(){\n      this.draw()\n    },\n    methods:{\n      draw(){\n        let canvas = document.getElementById('draw')\n        let ctx = canvas.getContext('2d')\n         canvas.addEventListener('touchstart',function(e){\n            e.preventDefault();\n            let _x = e.touches[0].pageX\n            console.log(_x)\n            let _y = e.touches[0].pageY\n            ctx.beginPath();\n            ctx.moveTo(_x - canvas.offsetLeft,_y - canvas.offsetTop);\n            this.addEventListener('touchmove',function(e){\n              let x = e.touches[0].pageX\n              let y = e.touches[0].pageY\n              ctx.lineTo(x-canvas.offsetLeft,y-canvas.offsetTop),\n              ctx.stroke();\n            }),\n            this.addEventListener('touchend',function(e){\n              console.log(ctx)\n              ctx.closePath();\n            })\n         })\n      },\n      clear(){\n        let canvas = document.getElementById('draw')\n        let ctx = canvas.getContext('2d')\n        ctx.clearRect(0,0,canvas.width,canvas.height)\n      },\n      exportPng(){\n        let canvas = document.getElementById('draw')\n        let ctx = canvas.getContext('2d')\n        let oimg = new Image()\n        ctx.drawImage(oimg,0,0)\n        oimg.src = canvas.toDataURL('image/png');\n        document.body.appendChild(oimg)\n      }\n    }\n  }\n</script>\n\n<style scoped>\n#draw{\n  border:1px solid #000;\n  background: #3333;\n}\n</style>"]}]}