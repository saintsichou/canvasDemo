{"remainingRequest":"/Users/liqiang/Desktop/demos/canvas/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liqiang/Desktop/demos/canvas/src/views/Paints.vue?vue&type=style&index=0&id=4e11340f&scoped=true&lang=css&","dependencies":[{"path":"/Users/liqiang/Desktop/demos/canvas/src/views/Paints.vue","mtime":1583292507961},{"path":"/Users/liqiang/Desktop/demos/canvas/node_modules/css-loader/dist/cjs.js","mtime":1581399667667},{"path":"/Users/liqiang/Desktop/demos/canvas/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1583030647440},{"path":"/Users/liqiang/Desktop/demos/canvas/node_modules/postcss-loader/src/index.js","mtime":1581399667792},{"path":"/Users/liqiang/Desktop/demos/canvas/node_modules/cache-loader/dist/cjs.js","mtime":1581399666072},{"path":"/Users/liqiang/Desktop/demos/canvas/node_modules/vue-loader/lib/index.js","mtime":1583030647440}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCiNkcmF3ewogIGJvcmRlcjoxcHggc29saWQgIzAwMDsKICBiYWNrZ3JvdW5kOiAjMzMzMzsKfQo="},{"version":3,"sources":["Paints.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgEA;AACA;AACA;AACA","file":"Paints.vue","sourceRoot":"src/views","sourcesContent":["<!--\n * @Date: 2020-03-03 19:50:36\n * @LastEditors  : Lee\n * @LastEditTime : 2020-03-04 11:28:27\n -->\n<template>\n  <div>\n    <canvas id=\"draw\" width=\"550\" height=\"350\" @click=\"draw\"></canvas>\n    <button @click='clear'>清除画布</button>\n    <button @click='exportPng'>导出画布</button>\n  </div>\n</template>\n\n<script>\n  export default {\n    data(){\n      return {\n\n      }\n    },\n    mounted(){\n      this.draw()\n    },\n    methods:{\n      draw(){\n        let canvas = document.getElementById('draw')\n        let ctx = canvas.getContext('2d')\n         canvas.addEventListener('touchstart',function(e){\n            e.preventDefault();\n            let _x = e.touches[0].pageX\n            console.log(_x)\n            let _y = e.touches[0].pageY\n            ctx.beginPath();\n            ctx.moveTo(_x - canvas.offsetLeft,_y - canvas.offsetTop);\n            this.addEventListener('touchmove',function(e){\n              let x = e.touches[0].pageX\n              let y = e.touches[0].pageY\n              ctx.lineTo(x-canvas.offsetLeft,y-canvas.offsetTop),\n              ctx.stroke();\n            }),\n            this.addEventListener('touchend',function(e){\n              console.log(ctx)\n              ctx.closePath();\n            })\n         })\n      },\n      clear(){\n        let canvas = document.getElementById('draw')\n        let ctx = canvas.getContext('2d')\n        ctx.clearRect(0,0,canvas.width,canvas.height)\n      },\n      exportPng(){\n        let canvas = document.getElementById('draw')\n        let ctx = canvas.getContext('2d')\n        let oimg = new Image()\n        ctx.drawImage(oimg,0,0)\n        oimg.src = canvas.toDataURL('image/png');\n        document.body.appendChild(oimg)\n      }\n    }\n  }\n</script>\n\n<style scoped>\n#draw{\n  border:1px solid #000;\n  background: #3333;\n}\n</style>"]}]}